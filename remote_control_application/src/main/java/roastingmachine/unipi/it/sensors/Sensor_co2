package roastingmachine.unipi.it.sensors;

import roastingmachine.unipi.it.resources.ResourcesMan;
// IMPORTARE THREAD PER COMUNICAZIONE COAP

public class Sensor_co2 extends Utility_sensor{
    private static Sensor_co2 INSTANCE;

    private Sensor_co2() {
	    min = 500;
	    max = 1000;
    }

    public static Sensor_co2 getInstance() {
        if(INSTANCE == null) {
            INSTANCE = new Sensor_co2();
        }

        return INSTANCE;
    }

     public static Sensor_co2 getInstance() {
        if(INSTANCE == null) {
            INSTANCE = new Sensor_co2();
        }

        return INSTANCE;
    }

    public void setActionMin(){
    }

    public void setActionMax(){
        if(Sensor_co2.getInstance().getValue()>Sensor_co2.getInstance().getMax()){ //se si supera la soglia massima di 500 parte l'alert
           if(Sensor_co2.getInstance().getValue()>Sensor_co2.getInstance().getMax()+500){
                ResourcesMan resourcesMan = ResourcesMan.retrieveInformation("alert");
                //new CoapClientThread(resourcesMan, "on").start();
           }
            ResourcesMan resourcesMan = ResourcesMan.retrieveInformation("vent");
            //new CoapClientThread(resourcesMan, "on").start();
        }
            
    }

}


/* da ricontrollare, se i valori tornano normali come si torna off?, Ã¨ notte ora */